<!DOCTYPE html>
<html lang="zh-Hant-Tw">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>kakusanOuO's 計算機</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style>
        .container {
            width: 450px;
        }

        .li {
            word-wrap: break-word;
        }
    </style>
</head>

<body>
    <!-- <div class="item">
        <p class="copy-area">this it copy-area for test</p>
        <input type="text" value="Copy This Text" class="copy-area">
        <button type="button" class="btn-copy" onclick="copytext()">copy</button>
    </div> -->
    <div class="container mt-3">
        <!-- <p class="text-right">點選歷史紀錄可一鍵複製</p> -->
        <ul id="runResults" class="list-group list-group-flush border">
        </ul>
    </div>
    <div class="container input-group">
        <input id="input" class="form-control text-right" type="text" value="">
    </div>
    <div class="container mt-2">
        <div class="row mt-2">
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">(</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">)</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg"
                    onclick="doClear()">Clear</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg" onclick="Dodelete()">←</a>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">1</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">2</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">3</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">+</a>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">4</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">5</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">6</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">-</a>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">7</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">8</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">9</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">*</a>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">.</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">0</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg" onclick="Run()">=</a>
            </div>
            <div class="col-3"><a type="button" class="btn btn-light btn-block border btn-lg input-pad">/</a>
            </div>
        </div>
    </div>
    <!-- <script src="dist/clipboard.min.js"></script> -->
    <script>
        function inputButton() {
            GetInput();
            var text = this.innerHTML;
            //this會去抓到目前的物件 > inputButtons[i].onclick = inputButton;
            if (text == "+" || text == "-" || text == "*" || text == "/") {
                input.value = input.value + " " + text + " ";
            }
            else {
                input.value += text;
            }
        }
        // //將數字按鈕 掛上onclick事件 (每個class都要寫太麻煩 所以用統一掛上事件較有效率)
        //抓有 input-pad 的數字 共有16個按鈕 集合中有16個東西
        var inputButtons = document.getElementsByClassName("input-pad");
        for (var i = 0; i < inputButtons.length; i++) {
            //一個一個加上onclick事件
            // console.log(inputButtons[i]);
            // console.log(inputButtons);
            inputButtons[i].onclick = inputButton;
        }
        function GetInput() {
            var input = document.getElementById("input");
            var value = 0;
        }

        function Run() {
            GetInput();
            var s = input.value;
            value = eval(input.value);
            input.value = value;

            var result = document.getElementById("runResults");
            var liadd = '<li class="list-group-item text-right">' + s + " = " + input.value + '</li>';
            result.innerHTML += liadd;
            // result.innerHTML += '<li class="list-group-item text-right">' + s + " = " + input.value + '</li>'

            console.log(result.innerHTML);
        }
        /* --- 有機會再研究 --- */
        // function copytext() {
        //     //This method NOT support IE8
        //     // ------------------------------
        //     // HTML Template:
        //     // ------------------------------
        //     // <div class="item">
        //     //     <p class="copy-area">this it copy-area for test</p>
        //     //     <input type="text" value="Copy This Text" class="copy-area">
        //     //     <button type="button" class="btn-copy">copy</button>
        //     // </div>
        //     // ------------------------------
        //     document.addEventListener("DOMContentLoaded", function () {
        //         // 取得所有有 .item 類別的 DMO 元素
        //         var items = document.querySelectorAll('.item');

        //         // 將所有找到的元素一個個丟進去 copyToClipBoard 處理，添加監聽事件
        //         for (var i = 0; i < items.length; ++i) {
        //             copyToClipBoard(items[i]);
        //         }

        //         function copyToClipBoard(item) {
        //             // 取得有 .btn-copy 類別的按鈕元素
        //             var btnCopy = item.querySelector('.btn-copy');
        //             // 添加監聽 click 事件
        //             btnCopy.addEventListener('click', function (event) {
        //                 // 取得有 .copy-area 類別的元素
        //                 var copyArea = item.querySelector('.copy-area');
        //                 var range = document.createRange();
        //                 range.selectNode(copyArea);
        //                 // 選取裡面的文字
        //                 window.getSelection().addRange(range);
        //                 try {
        //                     // 執行瀏覽器的複製指令，複製上面 copyArea 內選取到的文字
        //                     var copyStatus = document.execCommand('copy');
        //                     var msg = copyStatus ? 'copied' : 'failed';
        //                     // 輸出狀態
        //                     console.log(msg);
        //                 } catch (error) {
        //                     console.log('Oops!, unable to copy');
        //                 }
        //                 // 移除選取
        //                 window.getSelection().removeAllRanges();
        //             });
        //         }
        //     });
        // };

        // function Run() {
        //     for (i = 0; i < one.length; i++) {
        //         var o1 = one[i];
        //     }
        //     if (o1 == "+") {
        //         value = parseInt(x) + parseInt(input.value);
        //     }
        //     console.log(value);
        //     input.value = value;
        // }
        // var one = 0;
        // var two = 0;
        // var v = 0;
        // var x = "";
        // var y = "";
        // function Add() {
        //     GetInput();
        //     v = input.value;
        //     input.value = v + "+";
        //     if (one == 0) {
        //         one = input.value;
        //         console.log(one);
        //         for (i = 0; i < one.length - 1; i++) {
        //             x += one[i];
        //         }
        //     }
        //     else {
        //         for (i = 0; i < one.length - 1; i++) {
        //             x += one[i];
        //         }
        //         two = input.value;
        //         for (i = 0; i < two.length - 1; i++) {
        //             y += two[i];
        //         }
        //         one = parseInt(x) + parseInt(y);
        //         x = one;
        //         console.log(one);
        //         console.log(two);
        //         two = 0;
        //         // if(one.hasOwnProperty("+")){
        //         //     for(i=0;one.length-1;i++){
        //         //         x+=one[i];
        //         //     }
        //         //     console.log("...."+x);
        //         // }
        //         console.log(two);
        //     }
        //     input.value = "";
        //     // if (one == 0) {
        //     //     console.log(one);
        //     //     one = parseInt(input.value);
        //     //     value = one + two; 0
        //     //     input.value = "";
        //     //     console.log(one);
        //     // } else if (two == 0) {
        //     //     console.log(one);
        //     //     two = parseInt(input.value);
        //     //     value = one + two;
        //     //     input.value = value;
        //     //     one = value;
        //     //     two = 0;
        //     //     console.log(value);
        //     // }
        // }

        function Dodelete() {
            GetInput();
            var del = "";
            for (i = 0; i < input.value.length - 1; i++) {
                del += input.value[i];
            }
            input.value = del;
        }
        function doClear() {
            GetInput();
            input.value = "";
            one = 0;
            two = 0;
        }

    </script>
</body>